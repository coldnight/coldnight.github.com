<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Scala :: Taking Smart Notes With Org-mode</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="tags: Programming Language  Scala 学习资源  Scala Book  Scala 这么好的语言为什么不流行  HN：Scala 为什么不流行 Reddit：Scala 为什么不流行  结论：Java 人才更多且成本更低。
Scala 工具 sbt sbt new 无法处理替换过的 SSH 会导致 Auth fail，一个 workaround 就是手动 clone 项目然后：
sbt new file:///path/to/template.g8 sbt 国内加速 ~/.sbt/repositories:
[repositories] local nexus-aliyun:https://maven.aliyun.com/nexus/content/groups/public nexus-aliyun-ivy:https://maven.aliyun.com/nexus/content/groups/public/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext] typesafe: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext], bootOnly Unique Scala Rust from Scala Rust 和 Scala 有很多想通的地方，Rust 应该从 Scala 借鉴了很多：
 可变量和不可变量 模式匹配 Trait  内置类型 val b: Byte = 1 val x: Int = 1 val l: Long = 1 val s: Short = 1 val d: Double = 2." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.linuxzen.com/notes/notes/20210827073626-scala/" />




<link rel="stylesheet" href="https://www.linuxzen.com/notes/assets/style.css">






<link rel="apple-touch-icon" href="https://www.linuxzen.com/notes/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://www.linuxzen.com/notes/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Scala">
<meta property="og:description" content="tags: Programming Language  Scala 学习资源  Scala Book  Scala 这么好的语言为什么不流行  HN：Scala 为什么不流行 Reddit：Scala 为什么不流行  结论：Java 人才更多且成本更低。
Scala 工具 sbt sbt new 无法处理替换过的 SSH 会导致 Auth fail，一个 workaround 就是手动 clone 项目然后：
sbt new file:///path/to/template.g8 sbt 国内加速 ~/.sbt/repositories:
[repositories] local nexus-aliyun:https://maven.aliyun.com/nexus/content/groups/public nexus-aliyun-ivy:https://maven.aliyun.com/nexus/content/groups/public/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext] typesafe: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext], bootOnly Unique Scala Rust from Scala Rust 和 Scala 有很多想通的地方，Rust 应该从 Scala 借鉴了很多：
 可变量和不可变量 模式匹配 Trait  内置类型 val b: Byte = 1 val x: Int = 1 val l: Long = 1 val s: Short = 1 val d: Double = 2." />
<meta property="og:url" content="https://www.linuxzen.com/notes/notes/20210827073626-scala/" />
<meta property="og:site_name" content="Taking Smart Notes With Org-mode" />

  
    <meta property="og:image" content="https://www.linuxzen.com/notes/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2021-08-27 07:36:00 &#43;0800 &#43;0800" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="https://www.linuxzen.com/notes/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/notes/projects/"> Projects in Progress</a></li>
        
      
        
          <li><a href="/notes/articles/">Articles</a></li>
        
      
        
          <li><a href="/notes/flashcards/">Flashcards</a></li>
        
      
        
          <li><a href="/notes/notes/">Notes</a></li>
        
      
        
          <li><a href="/notes/topics/">Topics</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/notes/projects/"> Projects in Progress</a></li>
      
    
      
        <li><a href="/notes/articles/">Articles</a></li>
      
    
      
        <li><a href="/notes/flashcards/">Flashcards</a></li>
      
    
      
        <li><a href="/notes/notes/">Notes</a></li>
      
    
      
        <li><a href="/notes/topics/">Topics</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://www.linuxzen.com/notes/notes/20210827073626-scala/">Scala</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2021-08-27 
      </span>
    
    
    <span class="post-author">:: [Gray King]</span>
    
  </div>

  

  

  

  <div class="post-content"><div>
        <ul>
<li>tags: <a href="/notes/topics/20200320170914_programming_language/">Programming Language</a></li>
</ul>
<h2 id="scala-学习资源">Scala 学习资源<a href="#scala-学习资源" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><a href="https://docs.scala-lang.org/overviews/scala-book/introduction.html">Scala Book</a></li>
</ul>
<h2 id="scala-这么好的语言为什么不流行">Scala 这么好的语言为什么不流行<a href="#scala-这么好的语言为什么不流行" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<ul>
<li><a href="https://news.ycombinator.com/item?id=20154012">HN：Scala 为什么不流行</a></li>
<li><a href="https://www.reddit.com/r/scala/comments/l4pggx/why%5Fdo%5Fyou%5Fthink%5Fscala%5Fisnt%5Fmore%5Fpopular/">Reddit：Scala 为什么不流行</a></li>
</ul>
<p>结论：Java 人才更多且成本更低。</p>
<h2 id="scala-工具">Scala 工具<a href="#scala-工具" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="sbt">sbt<a href="#sbt" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><code>sbt new</code> 无法处理替换过的 SSH 会导致 Auth fail，一个 workaround 就是手动 clone 项目然后：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">sbt new file:///path/to/template.g8
</code></pre></div><h3 id="sbt-国内加速">sbt 国内加速<a href="#sbt-国内加速" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><code>~/.sbt/repositories</code>:</p>
<pre tabindex="0"><code class="language-nil" data-lang="nil">[repositories]
local
nexus-aliyun:https://maven.aliyun.com/nexus/content/groups/public
nexus-aliyun-ivy:https://maven.aliyun.com/nexus/content/groups/public/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]
typesafe: https://repo.typesafe.com/typesafe/ivy-releases/, [organization]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext], bootOnly
</code></pre><h2 id="unique-scala">Unique Scala<a href="#unique-scala" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="rust-from-scala">Rust from Scala<a href="#rust-from-scala" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Rust 和 Scala 有很多想通的地方，Rust 应该从 Scala 借鉴了很多：</p>
<ul>
<li>可变量和不可变量</li>
<li>模式匹配</li>
<li>Trait</li>
</ul>
<h3 id="内置类型">内置类型<a href="#内置类型" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> b<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Byte</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">val</span> x<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">val</span> l<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Long</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">val</span> s<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Short</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">val</span> d<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Double</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">2.0</span>
<span style="color:#66d9ef">val</span> f<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Float</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.0</span>
</code></pre></div><h3 id="字符串拼接">字符串拼接<a href="#字符串拼接" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Python 也支持类似的 <code>f-string</code> 语法，在 Scala 中是 <code>s-string</code> 语法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> firstName <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#34;John&#34;</span>
<span style="color:#66d9ef">val</span> mi <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#39;C&#39;</span>
<span style="color:#66d9ef">val</span> lastName <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#34;Doe&#34;</span>

<span style="color:#66d9ef">val</span> name <span style="color:#66d9ef">=</span> firstName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> mi <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> lastName
<span style="color:#66d9ef">val</span> name <span style="color:#66d9ef">=</span> <span style="color:#e6db74">s&#34;</span><span style="color:#e6db74">$firstName</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$mi</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$lastName</span><span style="color:#e6db74">&#34;</span>
println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;Name: </span><span style="color:#e6db74">$firstName</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$mi</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$lastName</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>
println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;Name: </span><span style="color:#e6db74">${</span>firstName<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span>mi<span style="color:#e6db74">}</span><span style="color:#e6db74"> </span><span style="color:#e6db74">${</span>lastName<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>
println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;1+1 = </span><span style="color:#e6db74">${</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>
</code></pre></div><h3 id="多行字符串">多行字符串<a href="#多行字符串" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><a href="https://docs.scala-lang.org/overviews/scala-book/two-notes-about-strings.html#multiline-strings">Multiline strings</a></p>
<h3 id="for-循环">for 循环<a href="#for-循环" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> nums <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>n <span style="color:#66d9ef">&lt;-</span> nums<span style="color:#f92672">)</span> println<span style="color:#f92672">(</span>n<span style="color:#f92672">)</span>

<span style="color:#66d9ef">val</span> people <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">List</span><span style="color:#f92672">(</span>
	<span style="color:#e6db74">&#34;Bill&#34;</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;Candy&#34;</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;Karen&#34;</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;Leo&#34;</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;Regina&#34;</span>
<span style="color:#f92672">)</span>


<span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>p <span style="color:#66d9ef">&lt;-</span> people<span style="color:#f92672">)</span> println<span style="color:#f92672">(</span>p<span style="color:#f92672">)</span>

<span style="color:#75715e">// foreach
</span><span style="color:#75715e"></span>people<span style="color:#f92672">.</span>foreach<span style="color:#f92672">(</span>println<span style="color:#f92672">)</span>


<span style="color:#75715e">// map foreach
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">val</span> ratings <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Map</span><span style="color:#f92672">(</span>
	<span style="color:#e6db74">&#34;Lady in the Water&#34;</span>  <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">3.0</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;Snakes on a Plane&#34;</span>  <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">4.0</span><span style="color:#f92672">,</span>
	<span style="color:#e6db74">&#34;You, Me and Dupree&#34;</span> <span style="color:#f92672">-&gt;</span> <span style="color:#ae81ff">3.5</span>
<span style="color:#f92672">)</span>

<span style="color:#66d9ef">for</span> <span style="color:#f92672">((</span>name<span style="color:#f92672">,</span>rating<span style="color:#f92672">)</span> <span style="color:#66d9ef">&lt;-</span> ratings<span style="color:#f92672">)</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;Movie: </span><span style="color:#e6db74">$name</span><span style="color:#e6db74">, Rating: </span><span style="color:#e6db74">$rating</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>

ratings<span style="color:#f92672">.</span>foreach <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">case</span><span style="color:#f92672">(</span>movie<span style="color:#f92672">,</span> rating<span style="color:#f92672">)</span> <span style="color:#66d9ef">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;key: </span><span style="color:#e6db74">$movie</span><span style="color:#e6db74">, value: </span><span style="color:#e6db74">$rating</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="for-表达式">for 表达式<a href="#for-表达式" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> nums <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Seq</span><span style="color:#f92672">(</span><span style="color:#ae81ff">1</span><span style="color:#f92672">,</span><span style="color:#ae81ff">2</span><span style="color:#f92672">,</span><span style="color:#ae81ff">3</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> doubledNums <span style="color:#66d9ef">=</span> <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>n <span style="color:#66d9ef">&lt;-</span> nums<span style="color:#f92672">)</span> <span style="color:#66d9ef">yield</span> n <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e">// &lt;----- 注意 yield
</span></code></pre></div><p>see also: <a href="https://docs.scala-lang.org/overviews/scala-book/for-expressions.html#the-yield-keyword">yield</a></p>
<h3 id="模式匹配">模式匹配<a href="#模式匹配" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Rust 和 Scala 很像，但是 Scala 依然有很多独特的地方：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// 模式匹配作为方法体
</span><span style="color:#75715e"></span><span style="color:#66d9ef">def</span> convertBooleanToStringMessage<span style="color:#f92672">(</span>bool<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Boolean</span><span style="color:#f92672">)</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span> <span style="color:#f92672">=</span> bool <span style="color:#66d9ef">match</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">true</span> <span style="color:#66d9ef">=&gt;</span> <span style="color:#e6db74">&#34;you said true&#34;</span>
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">false</span> <span style="color:#66d9ef">=&gt;</span> <span style="color:#e6db74">&#34;you said false&#34;</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">// alternate cases
</span><span style="color:#75715e"></span><span style="color:#66d9ef">def</span> isTrue<span style="color:#f92672">(</span>a<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Any</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> a <span style="color:#66d9ef">match</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#66d9ef">=&gt;</span> <span style="color:#66d9ef">false</span>
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">_</span> <span style="color:#66d9ef">=&gt;</span> <span style="color:#66d9ef">true</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">// 支持 if
</span><span style="color:#75715e"></span>count <span style="color:#66d9ef">match</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">case</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;one, a lonely number&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">case</span> x <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">||</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;two&#39;s company, three&#39;s a crowd&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">case</span> x <span style="color:#66d9ef">if</span> x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;4+, that&#39;s a party&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">case</span> <span style="color:#66d9ef">_</span> <span style="color:#66d9ef">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;i&#39;m guessing your number is zero or less&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="异常捕获">异常捕获<a href="#异常捕获" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>异常捕获结合了模式匹配：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">var</span> text <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
	text <span style="color:#66d9ef">=</span> openAndReadAFile<span style="color:#f92672">(</span>filename<span style="color:#f92672">)</span>
<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">case</span> e<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">FileNotFoundException</span> <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Couldn&#39;t find that file.&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">case</span> e<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">IOException</span> <span style="color:#f92672">=&gt;</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Had an IOException trying to read that file&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">}</span>


</code></pre></div><h3 id="方法定义">方法定义<a href="#方法定义" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#75715e">// 函数定义的基本语法
</span><span style="color:#75715e"></span><span style="color:#66d9ef">def</span> sum<span style="color:#f92672">(</span>a<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> b<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span> <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> b
<span style="color:#66d9ef">def</span> concatenate<span style="color:#f92672">(</span>s1<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> s2<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span> <span style="color:#f92672">=</span> s1 <span style="color:#f92672">+</span> s2

<span style="color:#75715e">// 返回参数可以省略
</span><span style="color:#75715e"></span><span style="color:#66d9ef">def</span> sum<span style="color:#f92672">(</span>a<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> b<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> a <span style="color:#f92672">+</span> b
<span style="color:#66d9ef">def</span> concatenate<span style="color:#f92672">(</span>s1<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> s2<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> s1 <span style="color:#f92672">+</span> s2

<span style="color:#75715e">// 代码块用 {} 包围，但是 = 不能省略
</span><span style="color:#75715e"></span><span style="color:#66d9ef">def</span> long<span style="color:#f92672">(</span>a<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> b<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span>
  a <span style="color:#f92672">+</span> b
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="类构造">类构造<a href="#类构造" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#66d9ef">var</span> firstName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">var</span> lastName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> p <span style="color:#66d9ef">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Bill&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Panner&#34;</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// val 只读
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#66d9ef">val</span> firstName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">val</span> lastName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// 构造方法直接写在类体里
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#66d9ef">var</span> firstName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">var</span> lastName<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

	println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;the constructor begins&#34;</span><span style="color:#f92672">)</span>

	<span style="color:#75715e">// &#39;public&#39; access by default
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">var</span> age <span style="color:#66d9ef">=</span> <span style="color:#ae81ff">0</span>

	<span style="color:#75715e">// some class fields
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> <span style="color:#a6e22e">HOME</span> <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">System</span><span style="color:#f92672">.</span>getProperty<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user.home&#34;</span><span style="color:#f92672">)</span>

	<span style="color:#75715e">// some methods
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">override</span> <span style="color:#66d9ef">def</span> toString<span style="color:#f92672">()</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">s&#34;</span><span style="color:#e6db74">$firstName</span><span style="color:#e6db74"> </span><span style="color:#e6db74">$lastName</span><span style="color:#e6db74"> is </span><span style="color:#e6db74">$age</span><span style="color:#e6db74"> years old&#34;</span>

	<span style="color:#66d9ef">def</span> printHome<span style="color:#f92672">()</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Unit</span> <span style="color:#f92672">=</span> println<span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;HOME = </span><span style="color:#e6db74">$HOME</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">def</span> printFullName<span style="color:#f92672">()</span><span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Unit</span> <span style="color:#f92672">=</span> println<span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">)</span>

	printHome<span style="color:#f92672">()</span>
	printFullName<span style="color:#f92672">()</span>
	println<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;you&#39;ve reached the end of the constructor&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">// 其他一些例子
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Pizza</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">var</span> crustSize<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">var</span> crustType<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// a stock, like AAPL or GOOG
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Stock</span><span style="color:#f92672">(</span><span style="color:#66d9ef">var</span> symbol<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">var</span> price<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">BigDecimal</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// a network socket
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Socket</span><span style="color:#f92672">(</span><span style="color:#66d9ef">val</span> timeout<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">val</span> linger<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">override</span> <span style="color:#66d9ef">def</span> toString <span style="color:#66d9ef">=</span> <span style="color:#e6db74">s&#34;timeout: </span><span style="color:#e6db74">$timeout</span><span style="color:#e6db74">, linger: </span><span style="color:#e6db74">$linger</span><span style="color:#e6db74">&#34;</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Address</span> <span style="color:#f92672">(</span>
	<span style="color:#66d9ef">var</span> street1<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span>
	<span style="color:#66d9ef">var</span> street2<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span>
	<span style="color:#66d9ef">var</span> city<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">,</span>
	<span style="color:#66d9ef">var</span> state<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span>
<span style="color:#f92672">)</span>
</code></pre></div><h3 id="构造方法重载">构造方法重载<a href="#构造方法重载" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> <span style="color:#a6e22e">DefaultCrustSize</span> <span style="color:#66d9ef">=</span> <span style="color:#ae81ff">12</span>
<span style="color:#66d9ef">val</span> <span style="color:#a6e22e">DefaultCrustType</span> <span style="color:#66d9ef">=</span> <span style="color:#e6db74">&#34;THIN&#34;</span>

<span style="color:#75715e">// the primary constructor
</span><span style="color:#75715e"></span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Pizza</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">var</span> crustSize<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">var</span> crustType<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

	<span style="color:#75715e">// one-arg auxiliary constructor
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">def</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">(</span>crustSize<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">Int</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">this</span><span style="color:#f92672">(</span>crustSize<span style="color:#f92672">,</span> <span style="color:#a6e22e">DefaultCrustType</span><span style="color:#f92672">)</span>
	<span style="color:#f92672">}</span>

	<span style="color:#75715e">// one-arg auxiliary constructor
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">def</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">(</span>crustType<span style="color:#66d9ef">:</span> <span style="color:#66d9ef">String</span><span style="color:#f92672">)</span> <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">this</span><span style="color:#f92672">(</span><span style="color:#a6e22e">DefaultCrustSize</span><span style="color:#f92672">,</span> crustType<span style="color:#f92672">)</span>
	<span style="color:#f92672">}</span>

	<span style="color:#75715e">// zero-arg auxiliary constructor
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">def</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">=</span> <span style="color:#f92672">{</span>
		<span style="color:#66d9ef">this</span><span style="color:#f92672">(</span><span style="color:#a6e22e">DefaultCrustSize</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">DefaultCrustType</span><span style="color:#f92672">)</span>
	<span style="color:#f92672">}</span>

	<span style="color:#66d9ef">override</span> <span style="color:#66d9ef">def</span> toString <span style="color:#66d9ef">=</span> <span style="color:#e6db74">s&#34;A </span><span style="color:#e6db74">$crustSize</span><span style="color:#e6db74"> inch pizza with a </span><span style="color:#e6db74">$crustType</span><span style="color:#e6db74"> crust&#34;</span>

<span style="color:#f92672">}</span>
</code></pre></div>
      </div></div>

  

  


   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   
      
   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   


<hr>

  <div class="bl-section">
    <h4>Links to this note</h4>
    <div class="backlinks">
      <ul>
       
          <li><a href="/notes/notes/20210827080540-spark/">Spark</a></li>
       
     </ul>
    </div>
  </div>


</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2022 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://www.linuxzen.com/notes/assets/main.js"></script>
<script src="https://www.linuxzen.com/notes/assets/prism.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


  
</div>

</body>
</html>
