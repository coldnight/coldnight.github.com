<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>DeFi from Scratch :: Taking Smart Notes With Org-mode</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.
It&amp;rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.
DeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.linuxzen.com/notes/notes/20220825160507-defi_from_scartch/" />




<link rel="stylesheet" href="https://www.linuxzen.com/notes/assets/style.css">






<link rel="apple-touch-icon" href="https://www.linuxzen.com/notes/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://www.linuxzen.com/notes/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="DeFi from Scratch">
<meta property="og:description" content="tags: DeFi, Blockchain, Uniswap, Uniswap V3 I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.
It&amp;rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be helpful for you to understand Uniswap and some other decentralized exchanges.
DeFi from Scratch We exchange stuffs very often, and we can exchange tokens in a centralized exchange." />
<meta property="og:url" content="https://www.linuxzen.com/notes/notes/20220825160507-defi_from_scartch/" />
<meta property="og:site_name" content="Taking Smart Notes With Org-mode" />

  
    <meta property="og:image" content="https://www.linuxzen.com/notes/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2022-08-25 16:05:00 &#43;0800 &#43;0800" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="https://www.linuxzen.com/notes/">
  <div class="logo">
    Terminal
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/notes/projects/"> Projects in Progress</a></li>
        
      
        
          <li><a href="/notes/articles/">Articles</a></li>
        
      
        
          <li><a href="/notes/flashcards/">Flashcards</a></li>
        
      
        
          <li><a href="/notes/notes/">Notes</a></li>
        
      
        
          <li><a href="/notes/topics/">Topics</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/notes/projects/"> Projects in Progress</a></li>
      
    
      
        <li><a href="/notes/articles/">Articles</a></li>
      
    
      
        <li><a href="/notes/flashcards/">Flashcards</a></li>
      
    
      
        <li><a href="/notes/notes/">Notes</a></li>
      
    
      
        <li><a href="/notes/topics/">Topics</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://www.linuxzen.com/notes/notes/20220825160507-defi_from_scartch/">DeFi from Scratch</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-08-25 
      </span>
    
    
    <span class="post-author">:: [Gray King]</span>
    
  </div>

  

  

  

  <div class="post-content"><div>
        <ul>
<li>tags: <a href="/notes/notes/20220825151036-defi/">DeFi</a>, <a href="/notes/notes/20210804115349-%E5%8C%BA%E5%9D%97%E9%93%BE/">Blockchain</a>, <a href="/notes/notes/20220825151023-uniswap/">Uniswap</a>, <a href="/notes/notes/20220825151116-uniswap_v3/">Uniswap V3</a></li>
</ul>
<p>I need derive price from decentralized exchanges, and I have finished some research about Uniswap v3.</p>
<p>It&rsquo;s brand new for me, and after that I want to share some ideas about DeFi, and I think it would be
helpful for you to understand Uniswap and some other decentralized exchanges.</p>
<h2 id="defi-from-scratch">DeFi from Scratch<a href="#defi-from-scratch" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>We exchange stuffs very often, and we can exchange tokens in a centralized exchange.</p>
<p>For example, Alice owns some ETH, and Bob owns some DAI. Now, Alice want to swap some ETH for DAI,
and Bob want to swap some DAI for ETH. How could they do?</p>
<h3 id="a-centralized-exchange">A Centralized Exchange<a href="#a-centralized-exchange" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Both Alice and Bob can goto a centralized exchange, like Binance.com, they can swap their tokens
which they owned to the tokens which they want.</p>
<p>It&rsquo;s very convenient. But how could they do if they don&rsquo;t trust the centralized exchanges?</p>
<h3 id="on-chain-swap-directly">On-chain Swap Directly<a href="#on-chain-swap-directly" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>They can swap directly, you may say so. Yes, they can communicate with each other,
and consider a price, then they can do it. Now Alice send the ETH to Bob, and wait Bob to
send DAI back. But now Bob don&rsquo;t want to send DAI back, what can Alice do?</p>
<p>Nothing! Alice loss her ETH!</p>
<h3 id="swap-via-smart-contract">Swap via Smart Contract<a href="#swap-via-smart-contract" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Both Alice and Bob don&rsquo;t want to meet such above situation. So they can use a smart contract:</p>
<ol>
<li>Alice send the proper ETH to the smart contract and mark it&rsquo;s to Bob;</li>
<li>Then Bob send the proper DAI to the smart contract and mark it&rsquo;s to Alice;</li>
<li>The smart contract determined that the condition is satisfied, then the smart contract:
<ol>
<li>Send proper DAI to Alice;</li>
<li>Send proper ETH to Bob;</li>
</ol>
</li>
<li>Otherwise, if Bob didn&rsquo;t send the proper DAI to the smart contract, after some blocks(like timeout), the smart contract will send Alice&rsquo;s ETH back,
or both Alice and Bob can withdraw their tokens from the smart contract in any time.</li>
</ol>
<p>That was a perfectly progress, both Alice and Bob are trust in the smart contract.</p>
<h3 id="liquidity-boost-decentralized-exchange">Liquidity Boost Decentralized Exchange<a href="#liquidity-boost-decentralized-exchange" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Let&rsquo;s admit that it&rsquo;s difficult to find people who want to exchange with you. The smart contract can do more,
like Uniswap:</p>
<ol>
<li>Someone could be a liquidity provider:
<ol>
<li>Put some tokens for exchanging into liquidity pool, let&rsquo;s say you privode both ETH and DAI as liquidity;</li>
<li>The Uniswap will give you a NFT to represent the position you hold(<a href="/notes/notes/20220823105929-non_fungible_tokens_vs_fungible_tokens/">Non-Fungible Tokens vs. Fungible Tokens</a>).</li>
</ol>
</li>
<li>Then someone else can swap tokens from liquidity, for example, Bob want to swap DAI for ETH:
<ol>
<li>Bob will send DAI to the liquidity pool which hold by the smart contract;</li>
<li>The smart contract then send back ETH from liquidity pool;</li>
</ol>
</li>
</ol>
<p>Now you don&rsquo;t need to find someone to swap, you can swap when the liquidity is satisfied, to do so,
the liquidity providers will charge some fee from your operations, that engage people who owns tokens to be the liquidity providers.</p>

      </div></div>

  

  


   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   

   


<hr>

  <div class="bl-section">
    <h4>No notes link to this note</h4>
  </div>


</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2023 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://www.linuxzen.com/notes/assets/main.js"></script>
<script src="https://www.linuxzen.com/notes/assets/prism.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>


  
</div>

</body>
</html>
